<form
  class='flex flex-col items-center justify-center'
  [formGroup]='joinGameForm'
>
  <div class='rounded-3xl border-2 border-green-900'>

    <h1 class='text-xl font-bold text-green-900 p-3 border-b-2 border-green-900'>
      <span *ngIf='session.host !== user?.id'>Wait fot the host to start session</span>
      <span *ngIf='session.host === user?.id'>Players</span>
    </h1>
    <div class='p-3'>
      <div
        *ngFor='let player of players; let i = index'
        class='p-3 border-b-2 border-green-900 last:border-0'
      >

        <div *ngIf='player.id !== user.id' class='flex items-center'>
          <span class='text-lg font-bold mr-3'>{{i + 1}}</span>
          <img class='rounded-full w-9 mr-3' *ngIf='player.imageUrl' [src]='player.imageUrl' alt='{{player.name}}' />
          {{ player.name }}
        </div>

        <div class='flex items-center' *ngIf='player.id === user.id'>
          <span class='text-lg font-bold mr-3'>{{i + 1}}</span>
          <img class='rounded-full w-9 mr-3' *ngIf='player.imageUrl' [src]='player.imageUrl' alt='{{player.name}}' />
          <mat-form-field class='w-48'>
            <mat-label>Nickname</mat-label>
            <input matInput placeholder="Nickname" formControlName='name'>
            <mat-hint *ngIf='joinGameForm.value.name !== player.name'>
              click APPLY to update nickname
            </mat-hint>
          </mat-form-field>

          <button
            *ngIf='joinGameForm.value.name !== player.name'
            class='rounded text-xl bg-green-900 text-white px-6 py-3 ml-6'
            (click)='joinGame()'
          >
            APPLY
          </button>
        </div>

      </div>
    </div>

  </div>

  <div class='flex flex-col' *ngIf='session.host === user?.id'>

    <mat-checkbox formControlName='doubleCards'>
      x2 cards (up to 8 players)
    </mat-checkbox>

    <h1
      class='text-xl font-bold text-green-900 p-3'
      *ngIf='players.length === 1'
    >
      Wait fot players to join
    </h1>

    <button
      class='rounded-full text-xl bg-green-900 text-white p-3'
      *ngIf='players.length > 1' (click)="startSession()"
    >
      <mat-icon>play_arrow</mat-icon>
      Start Game
    </button>

  </div>
</form>

